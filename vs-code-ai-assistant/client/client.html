<!-- index.html -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Chatbot MCP Test</title>
  </head>
  <body>
    <h1>üß† Chatbot VS Code Connector</h1>
    <button id="check-btn">Check VS Code Connection</button>
    <p id="status"></p>

    <script>
      document.getElementById("check-btn").onclick = async () => {
        try {
          const res = await fetch("http://localhost:3001/status");
          const data = await res.json();
          if (data.ok) {
            document.getElementById("status").innerText =
              "‚úÖ Connected to VS Code MCP!";
          } else {
            document.getElementById("status").innerText =
              "‚ö† MCP did not respond correctly.";
          }
          const response=fetch("http://localhost:3001/create-file", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              filename: "test.txt",
              content: "Hello from Chatbot!",
            }),
          });
          console.log(response);
        } catch (e) {
          document.getElementById("status").innerText =
            "‚ùå Cannot connect to MCP. Is the extension running?";
        }
      };
    </script>
  </body>
</html>
